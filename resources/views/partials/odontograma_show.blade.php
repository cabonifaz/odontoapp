
    <div id="contenedor-odontograma">
        <div class="row justify-content-center"> <!-- Centra el contenido -->
            <div class="col-12 col-sm-10 col-md-8 text-center">
                
                <div id="svgselect" class="svg-responsive">
                    <svg version="1.1" viewBox="0 -10 610 365"> preserveAspectRatio="xMidYMid meet" width="100%" height="115%" style="margin-top: 20px;">
                        <g transform="scale(1.5)" id="gmain">
                            <g id="P18">
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">18</text>
                                
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P18" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P17" transform="translate(25,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">17</text>
                                
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P17" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>

                            </g>
                            <g id="P16" transform="translate(50,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">16</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P16" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P15" transform="translate(75,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">15</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P15" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P14" transform="translate(100,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">14</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P14" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P13" transform="translate(125,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">13</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P13" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P12" transform="translate(150,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">12</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P12" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P11" transform="translate(175,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">11</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P11" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            
                            <!-- Izquierda segunda fila -->
                            
                            <g id="P55" transform="translate(75,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">55</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P55" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P54" transform="translate(100,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">54</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P54" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P53" transform="translate(125,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">53</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P53" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P52" transform="translate(150,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">52</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P52" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P51" transform="translate(175,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">51</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P51" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                    
                            <!-- Izquierda tercer fila -->
                    
                            <g id="P85" transform="translate(75,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">85</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P85" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P84" transform="translate(100,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">84</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P84" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P83" transform="translate(125,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">83</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P83" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P82" transform="translate(150,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">82</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P82" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P81" transform="translate(175,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">81</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P81" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                    
                            <!-- Izquierda cuarta fila -->
                    
                            <g id="P48" transform="translate(0,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">48</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P48" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P47" transform="translate(25,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">47</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P47" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P46" transform="translate(50,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">46</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P46" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P45" transform="translate(75,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">45</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P45" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P44" transform="translate(100,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">44</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P44" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P43" transform="translate(125,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">43</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P43" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P42" transform="translate(150,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">42</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P42" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P41" transform="translate(175,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">41</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P41" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            
                            <!-- Derecha primer fila -->
                            
                            <g id="P21" transform="translate(210,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">21</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P21" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P22" transform="translate(235,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">22</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P22" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P23" transform="translate(260,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">23</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P23" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P24" transform="translate(285,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">24</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P24" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P25" transform="translate(310,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">25</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P25" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P26" transform="translate(335,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">26</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P26" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P27" transform="translate(360,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">27</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P27" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P28" transform="translate(385,0)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">28</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P28" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            
                            <!-- Derecha segunda fila -->
                            
                            <g id="P61" transform="translate(210,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">61</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P61" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P62" transform="translate(235,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">62</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P62" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P63" transform="translate(260,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">63</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P63" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P64" transform="translate(285,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">64</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P64" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P65" transform="translate(310,60)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">65</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P65" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            
                            <!-- Derecha tercer fila -->
                            
                            <g id="P71" transform="translate(210,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">71</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P71" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P72" transform="translate(235,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">72</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P72" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P73" transform="translate(260,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">73</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P73" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P74" transform="translate(285,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">74</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P74" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P75" transform="translate(310,120)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">75</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P75" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            
                            <!-- Derecha cuarta fila -->
                            
                            <g id="P31" transform="translate(210,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">31</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P31" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P32" transform="translate(235,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">32</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P32" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P33" transform="translate(260,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">33</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P33" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P34" transform="translate(285,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">34</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P34" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P35" transform="translate(310,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">35</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P35" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P36" transform="translate(335,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">36</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P36" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P37" transform="translate(360,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">37</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P37" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                            <g id="P38" transform="translate(385,180)">
                                <polygon points="5,5 	15,5 	15,15 	5,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="C" opacity="1"></polygon>
                                <polygon points="0,0 	20,0 	15,5 	5,5" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="T" opacity="1"></polygon>
                                <polygon points="5,15 	15,15 	20,20 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="B" opacity="1"></polygon>
                                <polygon points="15,5 	20,0 	20,20 	15,15" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="R" opacity="1"></polygon>
                                <polygon points="0,0 	5,5 	5,15 	0,20" fill="white" stroke="#8B4513" stroke-width="0.5" class="odontoseccion" id="L" opacity="1"></polygon>
                                <text x="6" y="30" stroke="#8B4513" fill="#8B4513" stroke-width="0.1" style="font-size: 6pt;font-weight:normal">38</text>
                                <rect x="0" y="34" width="20" height="15" 
                                    stroke="black" fill="white" stroke-width="0.5" 
                                    shape-rendering="crispEdges" />

                                <text id="sigla-P38" x="10" y="41.5" fill="black" font-size="6pt" 
                                    font-weight="bold" text-anchor="middle" dominant-baseline="middle"></text>
                            </g>
                        </g>
                    </svg>
                     
                </div>
            </div>
            <div class="col-12 col-sm-10 col-md-4">
                <!-- Contenedor de Hallazgos -->
                <div id="detalle-hallazgos" class="hallazgo-log">
                <!-- Los detalles se añadirán dinámicamente aquí -->
                </div>
            </div>

        </div>
    </div>


<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

    const svg = document.querySelector('svg');
    const ns = "http://www.w3.org/2000/svg";

    const drawSquareWithCross = (x, y, color, desde, hasta) => {
        const group = document.createElementNS(ns, 'g');
        group.classList.add('ortodoncia-marca');
        group.setAttribute('data-desde', desde);
        group.setAttribute('data-hasta', hasta);

        const rect = document.createElementNS(ns, 'rect');
        rect.setAttribute('x', x - 5);
        rect.setAttribute('y', y - 5);
        rect.setAttribute('width', 10);
        rect.setAttribute('height', 10);
        rect.setAttribute('fill', 'white');
        rect.setAttribute('stroke', color);
        rect.setAttribute('stroke-width', 1);
        group.appendChild(rect);

        const line1 = document.createElementNS(ns, 'line');
        line1.setAttribute('x1', x - 4);
        line1.setAttribute('y1', y - 4);
        line1.setAttribute('x2', x + 4);
        line1.setAttribute('y2', y + 4);
        line1.setAttribute('stroke', color);
        group.appendChild(line1);

        const line2 = document.createElementNS(ns, 'line');
        line2.setAttribute('x1', x + 4);
        line2.setAttribute('y1', y - 4);
        line2.setAttribute('x2', x - 4);
        line2.setAttribute('y2', y + 4);
        line2.setAttribute('stroke', color);
        group.appendChild(line2);

        svg.appendChild(group);
    };

    const drawAOF = (hallazgo) => {
        drawSquareWithCross(hallazgo.coordenada_x1, hallazgo.coordenada_y1, hallazgo.color, hallazgo.desde, hallazgo.hasta);
        drawSquareWithCross(hallazgo.coordenada_x2, hallazgo.coordenada_y2, hallazgo.color, hallazgo.desde, hallazgo.hasta);

        const lineGroup = document.createElementNS(ns, 'g');
        lineGroup.classList.add('ortodoncia-marca');
        lineGroup.setAttribute('data-desde', hallazgo.desde);
        lineGroup.setAttribute('data-hasta', hallazgo.hasta);

        const line = document.createElementNS(ns, 'line');
        line.setAttribute('x1', hallazgo.coordenada_x1);
        line.setAttribute('y1', hallazgo.coordenada_y1);
        line.setAttribute('x2', hallazgo.coordenada_x2);
        line.setAttribute('y2', hallazgo.coordenada_y2);
        line.setAttribute('stroke', hallazgo.color);
        line.setAttribute('stroke-width', 1.5);
        lineGroup.appendChild(line);
        svg.appendChild(lineGroup);
    };

    const drawZigZagLine = (hallazgo) => {
        const zigzag = document.createElementNS(ns, 'polyline');
        zigzag.setAttribute('fill', 'none');
        zigzag.setAttribute('stroke', hallazgo.color);
        zigzag.setAttribute('stroke-width', '1.5');

        const points = [];
        const segments = 12;
        const dx = (hallazgo.coordenada_x2 - hallazgo.coordenada_x1) / segments;
        const dy = (hallazgo.coordenada_y2 - hallazgo.coordenada_y1) / segments;
        const amplitude = 6;

        for (let i = 0; i <= segments; i++) {
            const x = Number(hallazgo.coordenada_x1) + dx * i;
            let y;
            if (i % 2 === 0) {
                y = Number(hallazgo.coordenada_y1) + dy * i - amplitude;
            } else {
                y = Number(hallazgo.coordenada_y1) + dy * i + amplitude;
            }
            points.push(`${x.toFixed(2)},${y.toFixed(2)}`);
        }

        zigzag.setAttribute("points", points.join(" "));
        zigzag.classList.add("ortodoncia-marca");
        zigzag.setAttribute("data-desde", hallazgo.desde);
        zigzag.setAttribute("data-hasta", hallazgo.hasta);
        svg.appendChild(zigzag);
    };

    const drawCorona = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;
        const padding = 1.5; // 👈 Aquí defines padding
        // Recuadro de la corona
        const g = document.getElementById(`P${hallazgo.desde_diente}`);

        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect.setAttribute('x', hallazgo.coordenada_x1 - padding);
        rect.setAttribute('y', hallazgo.coordenada_y1 - padding);
        rect.setAttribute('width', (hallazgo.coordenada_x2 - hallazgo.coordenada_x1) + padding * 2);
        rect.setAttribute('height', (hallazgo.coordenada_y2 - hallazgo.coordenada_y1) + padding * 2);
        rect.setAttribute('stroke', hallazgo.color);
        rect.setAttribute('fill', 'none');
        rect.setAttribute('stroke-width', '1.5');
        rect.setAttribute('class', 'borde-corona');
        g.appendChild(rect);
        // Asignar sigla al <text id="sigla-P##">
        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('corona', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);

    };
    const drawDDE = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('dde', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };
    const drawEdentulo = (hallazgo) => {
        const line = document.createElementNS(ns, 'line');
        line.setAttribute('x1', hallazgo.coordenada_x1);
        line.setAttribute('y1', hallazgo.coordenada_y1);
        line.setAttribute('x2', hallazgo.coordenada_x2);
        line.setAttribute('y2', hallazgo.coordenada_y2);
        line.setAttribute('stroke', hallazgo.color);
        line.setAttribute('stroke-width', 2);
        line.classList.add('edentulo-marca');
        svg.appendChild(line);

        registrarHallazgoDetalle('edentulo', `${hallazgo.nombre}`, hallazgo.observaciones || '');
    };

    const drawEspigo = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const numDiente = hallazgo.desde_diente;

        // Cuadrado (centro en coordenada_x1/y1)
        const size = 8;
        const square = document.createElementNS(ns, 'rect');
        square.setAttribute('x', hallazgo.coordenada_x1 - size / 2);
        square.setAttribute('y', hallazgo.coordenada_y1 - size / 2);
        square.setAttribute('width', size);
        square.setAttribute('height', size);
        square.setAttribute('fill', 'white');
        square.setAttribute('stroke', hallazgo.color);
        square.setAttribute('stroke-width', 1.5);
        square.setAttribute('class', 'espigo-munon-marca');
        square.setAttribute('data-diente', `P${numDiente}`);
        svg.appendChild(square);

        // Línea vertical hacia arriba
        const linea = document.createElementNS(ns, 'line');
        linea.setAttribute('x1', hallazgo.coordenada_x1);
        linea.setAttribute('y1', hallazgo.coordenada_y1);
        linea.setAttribute('x2', hallazgo.coordenada_x2);
        linea.setAttribute('y2', hallazgo.coordenada_y2);
        linea.setAttribute('stroke', hallazgo.color);
        linea.setAttribute('stroke-width', 1.5);
        linea.setAttribute('class', 'espigo-munon-marca');
        linea.setAttribute('data-diente', `P${numDiente}`);
        svg.appendChild(linea);

        // Asignar sigla al texto
        const textElement = document.querySelector(`#sigla-P${numDiente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }

        registrarHallazgoDetalle('espigo', `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${numDiente}`, hallazgo.observaciones);
    };
    
    const drawFFP = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('ffp', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };

    const drawFracturaDental = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const numDiente = hallazgo.desde_diente;

        const linea = document.createElementNS(ns, 'line');
        linea.setAttribute('x1', hallazgo.coordenada_x1);
        linea.setAttribute('y1', hallazgo.coordenada_y1);
        linea.setAttribute('x2', hallazgo.coordenada_x2);
        linea.setAttribute('y2', hallazgo.coordenada_y2);
        linea.setAttribute('stroke', hallazgo.color || 'red');
        linea.setAttribute('stroke-width', 2.5);
        linea.setAttribute('stroke-linecap', 'round');
        linea.setAttribute('class', 'fractura-dental-marca');
        linea.setAttribute('data-diente', `P${numDiente}`);
        svg.appendChild(linea);

        registrarHallazgoDetalle(
            'fractura',
            `Fractura dental en diente ${numDiente}`,
            hallazgo.observaciones
        );
    };

    const drawFusion = (hallazgo) => {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const ns = "http://www.w3.org/2000/svg";

        const pos1 = { x: hallazgo.coordenada_x1, y: hallazgo.coordenada_y1 };
        const pos2 = { x: hallazgo.coordenada_x2, y: hallazgo.coordenada_y2 };

        const svgGroup = document.createElementNS(ns, "g");
        svgGroup.classList.add('ortodoncia-marca');
        svgGroup.setAttribute('data-desde', hallazgo.desde_diente);
        svgGroup.setAttribute('data-hasta', hallazgo.hasta_diente);

        const ellipse1 = document.createElementNS(ns, 'ellipse');
        ellipse1.setAttribute('cx', pos1.x + 10);
        ellipse1.setAttribute('cy', pos1.y - 5);
        ellipse1.setAttribute('rx', 18);
        ellipse1.setAttribute('ry', 8);
        ellipse1.setAttribute('stroke', 'blue');
        ellipse1.setAttribute('stroke-width', 1.5);
        ellipse1.setAttribute('fill', 'none');

        const ellipse2 = document.createElementNS(ns, 'ellipse');
        ellipse2.setAttribute('cx', pos2.x + 3);
        ellipse2.setAttribute('cy', pos2.y - 5);
        ellipse2.setAttribute('rx', 18);
        ellipse2.setAttribute('ry', 8);
        ellipse2.setAttribute('stroke', 'blue');
        ellipse2.setAttribute('stroke-width', 1.5);
        ellipse2.setAttribute('fill', 'none');

        svgGroup.appendChild(ellipse1);
        svgGroup.appendChild(ellipse2);
        svg.appendChild(svgGroup);

        registrarHallazgoDetalle('fusion', `Fusión entre dientes ${hallazgo.desde_diente} y ${hallazgo.hasta_diente}`, hallazgo.observaciones);
    };

    const drawGeminacion = (hallazgo) => {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const ns = "http://www.w3.org/2000/svg";
        const diente = hallazgo.desde_diente;

        const ellipse = document.createElementNS(ns, 'ellipse');
        ellipse.setAttribute('cx', hallazgo.texto_x + 6);
        ellipse.setAttribute('cy', hallazgo.texto_y - 4); // Leve ajuste
        ellipse.setAttribute('rx', 12);
        ellipse.setAttribute('ry', 8);
        ellipse.setAttribute('stroke', 'blue');
        ellipse.setAttribute('stroke-width', 1.5);
        ellipse.setAttribute('fill', 'none');
        ellipse.setAttribute('class', 'ortodoncia-marca');
        ellipse.setAttribute('data-diente', `P${diente}`);

        svg.appendChild(ellipse);

        registrarHallazgoDetalle('geminacion', `Geminación en diente ${diente}`, hallazgo.observaciones);
    };

    const drawGiroversion = (hallazgo) => {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const ns = "http://www.w3.org/2000/svg";

        let x1 = parseFloat(hallazgo.coordenada_x1);
        let y1 = parseFloat(hallazgo.coordenada_y1);
        let x2 = parseFloat(hallazgo.coordenada_x2);
        let y2 = parseFloat(hallazgo.coordenada_y2);


        const centerX = (x1 + x2) / 2;
        const radiusX = Math.abs(x2 - x1) / 2;
        const radiusY = 4;

        // 🔄 Ajuste según sentido: intercambiar x1 y x2 si es antihorario
        if (hallazgo.sentido === 'horario') {
            sweepFlag = 0;
        } else {
            //[x1, x2] = [x2, x1]; // invertir para dibujar derecha → izquierda
            sweepFlag = 1;
        }

        const pathData = `M ${x1} ${y1} A ${radiusX} ${radiusY} 0 0 ${sweepFlag} ${x2} ${y2}`;
        const path = document.createElementNS(ns, 'path');
        path.setAttribute('d', pathData);
        path.setAttribute('stroke', hallazgo.color || 'blue');
        path.setAttribute('stroke-width', 2.1);
        path.setAttribute('fill', 'none');
        path.setAttribute('class', 'giroversion-marca');

        // 🔄 Flecha en el extremo correcto
        if (hallazgo.sentido === 'horario') {
            path.setAttribute('marker-start', 'url(#flecha-inicio)');
        } else {
            path.setAttribute('marker-start', 'url(#flecha-fin)');
        }

        path.setAttribute('data-diente', `P${hallazgo.diente}`);
        svg.appendChild(path);

        // 📌 Crear marcadores si no existen
        if (!document.getElementById("flecha-inicio")) {
            const defs = document.createElementNS(ns, "defs");

            const markerInicio = document.createElementNS(ns, "marker");
            markerInicio.setAttribute("id", "flecha-inicio");
            markerInicio.setAttribute("markerWidth", "5");
            markerInicio.setAttribute("markerHeight", "5");
            markerInicio.setAttribute("refX", "0.5");
            markerInicio.setAttribute("refY", "2.5");
            markerInicio.setAttribute("orient", "auto");
            markerInicio.setAttribute("markerUnits", "strokeWidth");

            const arrowInicio = document.createElementNS(ns, "path");
            arrowInicio.setAttribute("d", "M0,0 L5,2.5 L0,5 Z");
            arrowInicio.setAttribute("fill", hallazgo.color || "blue");
            markerInicio.appendChild(arrowInicio);
            defs.appendChild(markerInicio);

            const markerFin = document.createElementNS(ns, "marker");
            markerFin.setAttribute("id", "flecha-fin");
            markerFin.setAttribute("markerWidth", "5");
            markerFin.setAttribute("markerHeight", "5");
            markerFin.setAttribute("refX", "2.5");
            markerFin.setAttribute("refY", "2.5");
            markerFin.setAttribute("orient", "auto");
            markerFin.setAttribute("markerUnits", "strokeWidth");

            const arrowFin = document.createElementNS(ns, "path");
            arrowFin.setAttribute("d", "M0,0 L5,2.5 L0,5 Z");
            arrowFin.setAttribute("fill", hallazgo.color || "blue");
            markerFin.appendChild(arrowFin);
            defs.appendChild(markerFin);

            svg.prepend(defs);
        }

        registrarHallazgoDetalle('giroversion', `Giroversión en diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };

    const drawImpactacion = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('I', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };

    const drawImplanteDental = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('IMP', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };

    function drawCaries(hallazgo) {
        const zonaId = hallazgo.zona_id; // ejemplo: "CA-P34-C"
        const partes = zonaId.split('-'); // ["CA", "P34", "C"]

        if (partes.length !== 3) return;

        const dienteId = partes[1]; // "P34"
        const seccion = partes[2];  // "C"
        const color = hallazgo.color || 'red';

        const poligono = document.querySelector(`#${dienteId} > polygon[id="${seccion}"]`);
        if (poligono) {
            poligono.setAttribute('fill', color);
        }

        const siglaText = document.querySelector(`#sigla-${dienteId}`);
        if (siglaText) {
            siglaText.textContent = hallazgo.sigla || 'CA';
            siglaText.setAttribute('fill', color);
            siglaText.setAttribute('title', `${hallazgo.observaciones || ''} - ${hallazgo.descripcion || ''}`);
        }

        registrarHallazgoDetalle(
            'caries',
            `${hallazgo.nombre || 'Lesión de Caries Dental'} ${hallazgo.sigla || 'CA'} en diente ${dienteId.replace('P', '')}`,
            hallazgo.observaciones || ''
        );
    }

    const drawMacrodoncia = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('MAC', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };
    const drawMicrodoncia = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('MIC', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };
    const drawMP = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('MP', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };
    const drawAusente = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const numPieza = hallazgo.desde_diente;
        const color = hallazgo.color || 'blue';

        // Dibujar aspa (cruz diagonal)
        const line1 = document.createElementNS(ns, 'line');
        line1.setAttribute('x1', hallazgo.coordenada_x1);
        line1.setAttribute('y1', hallazgo.coordenada_y1);
        line1.setAttribute('x2', hallazgo.coordenada_x2);
        line1.setAttribute('y2', hallazgo.coordenada_y2);
        line1.setAttribute('stroke', color);
        line1.setAttribute('stroke-width', 1.8);
        line1.classList.add('ausente-marca');
        line1.setAttribute('data-diente', `P${numPieza}`);
        svg.appendChild(line1);

        // Línea cruzada inversa
        const line2 = document.createElementNS(ns, 'line');
        line2.setAttribute('x1', hallazgo.coordenada_x1);
        line2.setAttribute('y1', hallazgo.coordenada_y2);
        line2.setAttribute('x2', hallazgo.coordenada_x2);
        line2.setAttribute('y2', hallazgo.coordenada_y1);
        line2.setAttribute('stroke', color);
        line2.setAttribute('stroke-width', 1.8);
        line2.classList.add('ausente-marca');
        line2.setAttribute('data-diente', `P${numPieza}`);
        svg.appendChild(line2);

        // Asignar sigla (DNE, DEX, DAO)
        const textElement = document.querySelector(`#sigla-P${numPieza}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }

        registrarHallazgoDetalle('ausente', `${hallazgo.nombre} ${hallazgo.sigla} en diente ${numPieza}`, hallazgo.observaciones);
    };

    const drawClavija = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const color = hallazgo.color || 'blue';
        const numPieza = hallazgo.desde_diente;

        // Leer directamente texto_x y texto_y guardados en DB
        const cx = hallazgo.texto_x;
        const cy = hallazgo.texto_y;

        if (cx == null || cy == null) {
            console.warn("Coordenadas faltantes para hallazgo clavija:", hallazgo);
            return;
        }

        const size = 6;
        const triangle = document.createElementNS(ns, 'polygon');
        const points = [
            `${cx},${cy}`,                     // vértice superior
            `${cx - size},${cy + size}`,      // base izquierda
            `${cx + size},${cy + size}`       // base derecha
        ].join(' ');
        triangle.setAttribute('points', points);
        triangle.setAttribute('stroke', color);
        triangle.setAttribute('fill', 'none');
        triangle.setAttribute('stroke-width', 1.5);
        triangle.classList.add('clavija-marca');
        triangle.setAttribute('data-diente', `P${numPieza}`);
        svg.appendChild(triangle);

        // Sigla en texto
        const textElement = document.querySelector(`#sigla-P${numPieza}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }

        registrarHallazgoDetalle(
            'clavija',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada a diente ${numPieza}`,
            hallazgo.observaciones
        );
    };
    const drawEctopica = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('ECT', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    };

    const drawErupcion = (hallazgo) => {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const color = hallazgo.color || 'blue';
        const dienteId = `P${hallazgo.desde_diente}`;
        const numPieza = hallazgo.desde_diente;
        const startX = hallazgo.texto_x;
        const baseY = hallazgo.texto_y;

        if (!startX || !baseY) {
            console.warn("Coordenadas faltantes para hallazgo erupción:", hallazgo);
            return;
        }

        const topY = baseY - 30; // Altura fija de flecha zigzag

        const points = [
            [startX, baseY],
            [startX - 4, baseY - 6],
            [startX + 4, baseY - 12],
            [startX - 4, baseY - 18],
            [startX + 4, baseY - 24],
            [startX, topY]
        ];

        const ns = "http://www.w3.org/2000/svg";
        const zigzag = document.createElementNS(ns, 'polyline');
        zigzag.setAttribute('points', points.map(p => p.join(',')).join(' '));
        zigzag.setAttribute('stroke', color);
        zigzag.setAttribute('stroke-width', 2);
        zigzag.setAttribute('fill', 'none');
        zigzag.classList.add('erupcion-marca');
        zigzag.setAttribute('data-diente', dienteId);
        svg.appendChild(zigzag);

        // Sigla en texto
        const textElement = document.querySelector(`#sigla-P${numPieza}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }

        registrarHallazgoDetalle(
            'erupcion',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada a diente ${numPieza}`,
            hallazgo.observaciones
        );
    };

    function drawExtruida(hallazgo) {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const numDiente = hallazgo.desde_diente;
        const dienteId = `P${numDiente}`;
        const g = document.getElementById(dienteId);
        const color = hallazgo.color || 'blue';

        const startX = hallazgo.texto_x;
        const baseY = hallazgo.texto_y;

        if (!startX || !baseY) {
            console.warn("Coordenadas faltantes para hallazgo extruida:", hallazgo);
            return;
        }

        // Dientes superiores
        const dientesSuperiores = [18,17,16,15,14,13,12,11,21,22,23,24,25,26,27,28,55,54,53,52,51,61,62,63,64,65];
        const esSuperior = dientesSuperiores.includes(parseInt(numDiente));

        const longFlecha = 14;
        const endY = esSuperior ? baseY - longFlecha : baseY + longFlecha;

        const ns = "http://www.w3.org/2000/svg";

        // Línea principal
        const line = document.createElementNS(ns, 'line');
        line.setAttribute('x1', startX);
        line.setAttribute('y1', baseY);
        line.setAttribute('x2', startX);
        line.setAttribute('y2', endY);
        line.setAttribute('stroke', color);
        line.setAttribute('stroke-width', 2);
        line.classList.add('extruida-marca');
        line.setAttribute('data-diente', dienteId);
        svg.appendChild(line);

        // Puntas
        const puntaY = esSuperior ? endY + 5 : endY - 5;
        const offset = 4;

        const arrow1 = document.createElementNS(ns, 'line');
        arrow1.setAttribute('x1', startX - offset);
        arrow1.setAttribute('y1', puntaY);
        arrow1.setAttribute('x2', startX);
        arrow1.setAttribute('y2', endY);
        arrow1.setAttribute('stroke', color);
        arrow1.setAttribute('stroke-width', 2);
        arrow1.classList.add('extruida-marca');
        arrow1.setAttribute('data-diente', dienteId);
        svg.appendChild(arrow1);

        const arrow2 = document.createElementNS(ns, 'line');
        arrow2.setAttribute('x1', startX + offset);
        arrow2.setAttribute('y1', puntaY);
        arrow2.setAttribute('x2', startX);
        arrow2.setAttribute('y2', endY);
        arrow2.setAttribute('stroke', color);
        arrow2.setAttribute('stroke-width', 2);
        arrow2.classList.add('extruida-marca');
        arrow2.setAttribute('data-diente', dienteId);
        svg.appendChild(arrow2);

        registrarHallazgoDetalle(
            'extruida',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada a diente ${numDiente}`,
            hallazgo.observaciones
        );
    }

    function drawIntruida(hallazgo) {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const color = hallazgo.color || 'blue';
        const numDiente = hallazgo.desde_diente;
        const dienteId = `P${hallazgo.desde_diente}`;
        const centerX = hallazgo.texto_x;
        const baseY = hallazgo.texto_y;

        if (!centerX || !baseY) {
            console.warn("Coordenadas faltantes para hallazgo intrudida:", hallazgo);
            return;
        }

        const esSuperior = [18,17,16,15,14,13,12,11,21,22,23,24,25,26,27,28,55,54,53,52,51,61,62,63,64,65]
            .includes(parseInt(hallazgo.desde_diente));

        const longFlecha = 14;
        const endY = esSuperior ? baseY + longFlecha : baseY - longFlecha;
        const puntaY = esSuperior ? endY - 5 : endY + 5;

        const ns = "http://www.w3.org/2000/svg";

        // Línea principal
        const line = document.createElementNS(ns, 'line');
        line.setAttribute('x1', centerX);
        line.setAttribute('y1', baseY);
        line.setAttribute('x2', centerX);
        line.setAttribute('y2', endY);
        line.setAttribute('stroke', color);
        line.setAttribute('stroke-width', 2);
        line.classList.add('intruida-marca');
        line.setAttribute('data-diente', dienteId);
        svg.appendChild(line);

        // Puntas
        const offset = 4;

        const arrow1 = document.createElementNS(ns, 'line');
        arrow1.setAttribute('x1', centerX - offset);
        arrow1.setAttribute('y1', puntaY);
        arrow1.setAttribute('x2', centerX);
        arrow1.setAttribute('y2', endY);
        arrow1.setAttribute('stroke', color);
        arrow1.setAttribute('stroke-width', 2);
        arrow1.classList.add('intruida-marca');
        arrow1.setAttribute('data-diente', dienteId);
        svg.appendChild(arrow1);

        const arrow2 = document.createElementNS(ns, 'line');
        arrow2.setAttribute('x1', centerX + offset);
        arrow2.setAttribute('y1', puntaY);
        arrow2.setAttribute('x2', centerX);
        arrow2.setAttribute('y2', endY);
        arrow2.setAttribute('stroke', color);
        arrow2.setAttribute('stroke-width', 2);
        arrow2.classList.add('intrudida-marca');
        arrow2.setAttribute('data-diente', dienteId);
        svg.appendChild(arrow2);

        registrarHallazgoDetalle(
            'intruida',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada a diente ${numDiente}`,
            hallazgo.observaciones
        );
    }

    function drawSupernumeraria(hallazgo) {
        const desde = parseInt(hallazgo.desde_diente);
        const hasta = parseInt(hallazgo.hasta_diente);
        const midX = parseFloat(hallazgo.texto_x);
        const midY = parseFloat(hallazgo.texto_y);

        const ajusteX = 5;
        const ajusteY = -10;

        const ns = "http://www.w3.org/2000/svg";

        // Eliminar si ya existe una marca entre esos dientes
        const selector = `.supernumeraria-marca[data-super="${desde}-${hasta}"]`;
        document.querySelectorAll(selector).forEach(e => e.remove());

        const grupo = document.createElementNS(ns, 'g');
        grupo.classList.add('supernumeraria-marca');
        grupo.setAttribute('data-super', `${desde}-${hasta}`);

        // Círculo azul con fondo blanco
        const circle = document.createElementNS(ns, 'circle');
        circle.setAttribute('cx', midX + ajusteX);
        circle.setAttribute('cy', midY + ajusteY);
        circle.setAttribute('r', 10);
        circle.setAttribute('stroke', 'blue');
        circle.setAttribute('fill', 'white');
        circle.setAttribute('stroke-width', '1.5');

        // Letra "S" centrada
        const texto = document.createElementNS(ns, 'text');
        texto.setAttribute('x', midX + ajusteX);
        texto.setAttribute('y', midY + ajusteY + 4);
        texto.setAttribute('text-anchor', 'middle');
        texto.setAttribute('font-size', '10');
        texto.setAttribute('fill', 'blue');
        texto.setAttribute('font-weight', 'bold');
        texto.textContent = 'S';

        grupo.appendChild(circle);
        grupo.appendChild(texto);

        document.querySelector('svg').appendChild(grupo);

        registrarHallazgoDetalle(
            'supernumeraria',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada entre dientes ${desde} y ${hasta}`,
            hallazgo.observaciones
        );
    }

    function drawPulpotomia(hallazgo) {
        const zonaId = hallazgo.zona_id; // ejemplo: "PP-P34-C"
        const partes = zonaId.split('-'); // ["PP", "P34", "C"]

        if (partes.length !== 3) return;

        const dienteId = partes[1]; // "P34"
        const seccion = partes[2];  // "C"
        const color = hallazgo.color || 'blue';

        // Eliminar marcas anteriores
        document.querySelectorAll(`.pulpotomia-marca[data-diente="${dienteId}"]`).forEach(e => e.remove());

        // Pintar el polígono correspondiente
        const poligono = document.querySelector(`#${dienteId} > polygon[id="${seccion}"]`);
        if (poligono) {
            poligono.setAttribute('fill', color);
        }

        // Mostrar sigla en el texto del diente
        const siglaText = document.querySelector(`#sigla-${dienteId}`);
        if (siglaText) {
            siglaText.textContent = hallazgo.sigla || 'PP';
            siglaText.setAttribute('fill', color);
            siglaText.setAttribute('title', `${hallazgo.observaciones || ''} - ${hallazgo.descripcion || ''}`);
        }

        registrarHallazgoDetalle(
            'pulpotomia',
            `${hallazgo.nombre || 'Pulpotomía'} (${hallazgo.sigla || 'PP'}) en diente ${dienteId.replace('P', '')}`,
            hallazgo.observaciones || ''
        );
    }

    const drawPosicionAnormal = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('PAD', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    }

    function drawProtesisParcial(hallazgo) {
        const svg = document.querySelector('svg');
        const ns = "http://www.w3.org/2000/svg";

        const x1 = parseFloat(hallazgo.coordenada_x1);
        const y1 = parseFloat(hallazgo.coordenada_y1);
        const x2 = parseFloat(hallazgo.coordenada_x2);
        const y2 = parseFloat(hallazgo.coordenada_y2);
        const color = hallazgo.color || 'blue';
        const desde = hallazgo.desde_diente;
        const hasta = hallazgo.hasta_diente;

        const dientesSuperiores = [18,17,16,15,14,13,12,11,21,22,23,24,25,26,27,28,55,54,53,52,51,61,62,63,64,65];
        const esSuperior = dientesSuperiores.includes(desde);

        const alturaCorchete = 10;

        const group = document.createElementNS(ns, 'g');
        group.classList.add('protesis-parcial');
        group.setAttribute('data-desde', desde);
        group.setAttribute('data-hasta', hasta);

        // Línea vertical izquierda (corchete inicial)
        const lineStart = document.createElementNS(ns, 'line');
        lineStart.setAttribute('x1', x1);
        lineStart.setAttribute('x2', x1);
        lineStart.setAttribute('y1', esSuperior ? y1 : y1 - alturaCorchete);
        lineStart.setAttribute('y2', esSuperior ? y1 + alturaCorchete : y1);
        lineStart.setAttribute('stroke', color);
        lineStart.setAttribute('stroke-width', 2);
        group.appendChild(lineStart);

        // Línea horizontal
        const lineMiddle = document.createElementNS(ns, 'line');
        lineMiddle.setAttribute('x1', x1);
        lineMiddle.setAttribute('y1', y1);
        lineMiddle.setAttribute('x2', x2);
        lineMiddle.setAttribute('y2', y2);
        lineMiddle.setAttribute('stroke', color);
        lineMiddle.setAttribute('stroke-width', 2);
        group.appendChild(lineMiddle);

        // Línea vertical derecha (corchete final)
        const lineEnd = document.createElementNS(ns, 'line');
        lineEnd.setAttribute('x1', x2);
        lineEnd.setAttribute('x2', x2);
        lineEnd.setAttribute('y1', esSuperior ? y2 : y2 - alturaCorchete);
        lineEnd.setAttribute('y2', esSuperior ? y2 + alturaCorchete : y2);
        lineEnd.setAttribute('stroke', color);
        lineEnd.setAttribute('stroke-width', 2);
        group.appendChild(lineEnd);

        svg.appendChild(group);
        registrarHallazgoDetalle('protesis_parcial', `${hallazgo.nombre} ${hallazgo.sigla} aplicada`, hallazgo.observaciones);
    }

    function drawProtesisTotal(hallazgo) {
        const svg = document.querySelector('svg');
        const ns = "http://www.w3.org/2000/svg";

        const sigla = hallazgo.sigla;
        const color = hallazgo.color || 'blue';
        const tipo = hallazgo.tipo;

        const dientesGrupo = [];
        const esSuperior = sigla === 'PTS'; // Prótesis Total Superior
        const ajusteVertical = esSuperior ? 5 : 95;

        if (esSuperior) {
            for (let i = 18; i >= 11; i--) dientesGrupo.push(document.getElementById(`P${i}`));
            for (let i = 21; i <= 28; i++) dientesGrupo.push(document.getElementById(`P${i}`));
        } else {
            for (let i = 48; i >= 41; i--) dientesGrupo.push(document.getElementById(`P${i}`));
            for (let i = 31; i <= 38; i++) dientesGrupo.push(document.getElementById(`P${i}`));
        }

        const dientesValidos = dientesGrupo.filter(d => d && d.querySelector('polygon#C'));
        if (dientesValidos.length < 2) {
            console.warn('No se encontraron suficientes dientes con polígono C para prótesis total.');
            return;
        }

        function obtenerCentroAbsoluto(g) {
            const poly = g.querySelector('polygon#C');
            const puntos = poly.getAttribute('points').trim().split(/\s+/);
            let sumX = 0, sumY = 0;
            puntos.forEach(pt => {
                const [x, y] = pt.split(',').map(Number);
                sumX += x;
                sumY += y;
            });

            const cx = sumX / puntos.length;
            const cy = sumY / puntos.length;

            let tx = 0, ty = 0;
            const transform = g.getAttribute('transform');
            if (transform?.includes('translate')) {
                const match = transform.match(/translate\(([^,]+),?([^\)]+)?\)/);
                if (match) {
                    tx = parseFloat(match[1]) || 0;
                    ty = parseFloat(match[2]) || 0;
                }
            }

            return { x: cx + tx, y: cy + ty };
        }

        const centroInicio = obtenerCentroAbsoluto(dientesValidos[0]);
        const inicio = {
            x: centroInicio.x,
            y: centroInicio.y + ajusteVertical
        };

        const fin = esSuperior
            ? { x: 592.90, y: 15.20 }
            : { x: 592.90, y: 284.95 };

        for (let i = 0; i < 2; i++) {
            const yOffset = esSuperior ? -i * 4 : i * 4;
            const linea = document.createElementNS(ns, 'line');
            linea.setAttribute('x1', inicio.x);
            linea.setAttribute('y1', inicio.y + yOffset - (esSuperior ? 15 : -15));
            linea.setAttribute('x2', fin.x);
            linea.setAttribute('y2', fin.y + yOffset - (esSuperior ? 15 : -15));
            linea.setAttribute('stroke', color);
            linea.setAttribute('stroke-width', 2);
            linea.classList.add('protesis_total-marca');
            svg.appendChild(linea);
        }
        registrarHallazgoDetalle('protesis_total', `${hallazgo.nombre} ${hallazgo.sigla} aplicada`, hallazgo.observaciones);
    }

    function drawProtesisRemovible(hallazgo) {
        const svg = document.querySelector('svg');
        const ns = "http://www.w3.org/2000/svg";

        const x1 = parseFloat(hallazgo.coordenada_x1);
        const y1 = parseFloat(hallazgo.coordenada_y1);
        const x2 = parseFloat(hallazgo.coordenada_x2);
        const y2 = parseFloat(hallazgo.coordenada_y2);
        const color = hallazgo.color || 'blue';
        const desde = hallazgo.desde_diente;
        const hasta = hallazgo.hasta_diente;

        const dientesSuperiores = [18,17,16,15,14,13,12,11,21,22,23,24,25,26,27,28,55,54,53,52,51,61,62,63,64,65];
        const esSuperior = dientesSuperiores.includes(desde);

        const separacion = 4;

        const group = document.createElementNS(ns, 'g');
        group.classList.add('protesis-removible');
        group.setAttribute('data-desde', desde);
        group.setAttribute('data-hasta', hasta);

        for (let i = 0; i < 2; i++) {
            const y = esSuperior ? y1 - (i * separacion) : y1 + (i * separacion);

            const linea = document.createElementNS(ns, 'line');
            linea.setAttribute('x1', x1);
            linea.setAttribute('x2', x2);
            linea.setAttribute('y1', y);
            linea.setAttribute('y2', y);
            linea.setAttribute('stroke', color);
            linea.setAttribute('stroke-width', 2);
            group.appendChild(linea);
        }

        svg.appendChild(group);
        registrarHallazgoDetalle('protesis_removible', `${hallazgo.nombre} ${hallazgo.sigla} aplicada`, hallazgo.observaciones);
    }

    const drawRemanente = (hallazgo) => {
        const ns = "http://www.w3.org/2000/svg";
        const svg = document.querySelector('svg');
        if (!svg) return;

        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", hallazgo.color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle('rr', `${hallazgo.nombre} ${hallazgo.sigla} aplicada a diente ${hallazgo.desde_diente}`, hallazgo.observaciones);
    }

    function drawRestauracion(hallazgo) {
        const ns = "http://www.w3.org/2000/svg";

        // Eliminar si ya existe una marca para ese diente
        const selector = `.restauracion-marca[data-diente="${hallazgo.diente}"]`;
        document.querySelectorAll(selector).forEach(e => e.remove());

        const path = document.createElementNS(ns, 'path');
        path.setAttribute('d', hallazgo.path_svg);
        path.setAttribute('fill', hallazgo.color || 'blue');
        path.setAttribute('stroke', hallazgo.color || 'blue');
        path.setAttribute('stroke-width', 3);
        path.setAttribute('fill-opacity', 0.6);
        path.setAttribute('data-diente', hallazgo.desde_diente);
        path.classList.add('restauracion-marca');

        document.querySelector('svg').appendChild(path);
        // 🔹 Dibujar sigla en el recuadro del diente
        //console.log("hallazgo",hallazgo);
        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`); // o desde_diente
        if (textElement) {
            textElement.textContent = hallazgo.sigla.toUpperCase();
            textElement.setAttribute("fill", hallazgo.color || 'blue');
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle(
            'restauracion_definitiva',
            `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${hallazgo.desde_diente}`,
            hallazgo.observaciones
        );
    }

    function drawRestauracionTemporal(hallazgo) {
        const ns = "http://www.w3.org/2000/svg";

        // Eliminar si ya existe una marca para ese diente
        const selector = `.restauracion-temporal-marca[data-diente="${hallazgo.diente}"]`;
        document.querySelectorAll(selector).forEach(e => e.remove());

        const path = document.createElementNS(ns, 'path');
        path.setAttribute('d', hallazgo.path_svg);
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', hallazgo.color || 'blue');
        path.setAttribute('stroke-width', 3);
        path.setAttribute('fill-opacity', 0.6);
        path.setAttribute('data-diente', hallazgo.desde_diente);
        path.classList.add('restauracion-temporal-marca');

        document.querySelector('svg').appendChild(path);
        // 🔹 Dibujar sigla en el recuadro del diente
        //console.log("hallazgo",hallazgo);
        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`); // o desde_diente
        if (textElement) {
            textElement.textContent = hallazgo.sigla.toUpperCase();
            textElement.setAttribute("fill", hallazgo.color || 'blue');
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle(
            'restauracion_temporal',
            `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${hallazgo.desde_diente}`,
            hallazgo.observaciones
        );
    }

    function drawSellante(hallazgo) {
        const ns = "http://www.w3.org/2000/svg";

        // Eliminar si ya existe una marca para ese diente
        const selector = `.sellante-marca[data-diente="${hallazgo.diente}"]`;
        document.querySelectorAll(selector).forEach(e => e.remove());

        const path = document.createElementNS(ns, 'path');
        path.setAttribute('d', hallazgo.path_svg);
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', hallazgo.color || 'blue');
        path.setAttribute('stroke-width', 1);
        path.setAttribute('data-diente', hallazgo.desde_diente);
        path.classList.add('sellante-marca');

        document.querySelector('svg').appendChild(path);
        // 🔹 Dibujar sigla en el recuadro del diente
        //console.log("hallazgo",hallazgo);
        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`); // o desde_diente
        if (textElement) {
            textElement.textContent = hallazgo.sigla.toUpperCase();
            textElement.setAttribute("fill", hallazgo.color || 'blue');
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle(
            'sellante',
            `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${hallazgo.desde_diente}`,
            hallazgo.observaciones
        );
    }

    function drawDesgaste(hallazgo) {
        const ns = "http://www.w3.org/2000/svg";

        // Eliminar si ya existe una marca para ese diente
        const selector = `.desgaste-marca[data-diente="${hallazgo.diente}"]`;
        document.querySelectorAll(selector).forEach(e => e.remove());

        const path = document.createElementNS(ns, 'path');
        path.setAttribute('d', hallazgo.path_svg);
        path.setAttribute('fill', 'none');
        path.setAttribute('stroke', hallazgo.color || 'red');
        path.setAttribute('stroke-width', 1);
        path.setAttribute('data-diente', hallazgo.desde_diente);
        path.classList.add('desgaste-marca');

        document.querySelector('svg').appendChild(path);
        // 🔹 Dibujar sigla en el recuadro del diente
        //console.log("hallazgo",hallazgo);
        const textElement = document.querySelector(`#sigla-P${hallazgo.desde_diente}`); // o desde_diente
        if (textElement) {
            textElement.textContent = hallazgo.sigla.toUpperCase();
            textElement.setAttribute("fill", hallazgo.color || 'red');
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }
        registrarHallazgoDetalle(
            'desgaste',
            `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${hallazgo.desde_diente}`,
            hallazgo.observaciones
        );
    }

    const drawConducto = (hallazgo) => {
        const svg = document.querySelector('svg');
        if (!svg) return;

        const color = hallazgo.color || 'blue';
        const dienteId = `P${hallazgo.desde_diente}`;
        const numPieza = hallazgo.desde_diente;
        const startX = hallazgo.texto_x;
        const baseY = hallazgo.texto_y;

        if (!startX || !baseY) {
            console.warn("❗ Coordenadas faltantes para tratamiento de conducto:", hallazgo);
            return;
        }

        const topY = baseY - 30; // altura fija para la línea del tratamiento

        const ns = "http://www.w3.org/2000/svg";
        const linea = document.createElementNS(ns, 'line');
        linea.setAttribute('x1', startX);
        linea.setAttribute('y1', baseY);
        linea.setAttribute('x2', startX);
        linea.setAttribute('y2', topY);
        linea.setAttribute('stroke', color);
        linea.setAttribute('stroke-width', 2);
        linea.setAttribute('fill', 'none');
        linea.classList.add('conducto-marca');
        linea.setAttribute('data-diente', dienteId);
        svg.appendChild(linea);

        // Mostrar sigla (TC / PC) en el recuadro
        const textElement = document.querySelector(`#sigla-${dienteId}`);
        if (textElement) {
            textElement.textContent = hallazgo.sigla;
            textElement.setAttribute("fill", color);
            textElement.setAttribute("title", `${hallazgo.observaciones} - ${hallazgo.descripcion}`);
        }

        registrarHallazgoDetalle(
            'conducto',
            `${hallazgo.nombre} (${hallazgo.sigla}) en diente ${numPieza}`,
            hallazgo.observaciones
        );
    }

    const drawTransposicion = (hallazgo) => {
        const svg = document.querySelector("svg");
        if (!svg) return;

        const color = hallazgo.color || 'blue';

        // === Coordenadas principales
        const x1 = hallazgo.coordenada_x1;
        const x2 = hallazgo.coordenada_x2;
        const y  = hallazgo.coordenada_y1;

        // === Crear marcador si no existe
        if (!document.getElementById("flecha-fin")) {
            const ns = "http://www.w3.org/2000/svg";
            const defs = document.createElementNS(ns, "defs");

            const markerFin = document.createElementNS(ns, "marker");
            markerFin.setAttribute("id", "flecha-fin");
            markerFin.setAttribute("markerWidth", "5");
            markerFin.setAttribute("markerHeight", "5");
            markerFin.setAttribute("refX", "2.5");
            markerFin.setAttribute("refY", "2.5");
            markerFin.setAttribute("orient", "auto");
            markerFin.setAttribute("markerUnits", "strokeWidth");

            const arrow = document.createElementNS(ns, "path");
            arrow.setAttribute("d", "M0,0 L5,2.5 L0,5 Z");
            arrow.setAttribute("fill", color);

            markerFin.appendChild(arrow);
            defs.appendChild(markerFin);
            svg.prepend(defs);
        }

        const ns = "http://www.w3.org/2000/svg";

        // === Flecha 1 (original)
        const path1 = document.createElementNS(ns, "path");
        path1.setAttribute("d", `M ${x1} ${y} C ${x1 + 10} ${y - 12}, ${x2 - 10} ${y - 12}, ${x2} ${y}`);
        path1.setAttribute("stroke", color);
        path1.setAttribute("stroke-width", 2);
        path1.setAttribute("fill", "none");
        path1.setAttribute("marker-end", "url(#flecha-fin)");
        path1.classList.add("transposicion-marca");
        svg.appendChild(path1);

        // === Flecha 2 (reflejo de la primera)
        const path2 = document.createElementNS(ns, "path");
        //path2.setAttribute("d", `M ${x2 + 12} ${y} C ${x2 + 2} ${y - 12}, ${x1 + 20} ${y - 12}, ${x1 + 12} ${y}`);
        path2.setAttribute("d", `M ${x2 + 20} ${y} C ${x2 + 10} ${y - 12}, ${x1 + 28} ${y - 12}, ${x1 + 20} ${y}`);
        path2.setAttribute("stroke", color);
        path2.setAttribute("stroke-width", 2);
        path2.setAttribute("fill", "none");
        path2.setAttribute("marker-end", "url(#flecha-fin)");
        path2.classList.add("transposicion-marca");
        svg.appendChild(path2);
         registrarHallazgoDetalle(
            'transposicion',
            `${hallazgo.nombre} (${hallazgo.sigla}) aplicada entre dientes ${hallazgo.desde_diente} y ${hallazgo.hasta_diente}`,
            hallazgo.observaciones
        );
    };


    function renderizarHallazgosOdontograma(hallazgos) {
        const svg = document.querySelector('svg');
        if (!svg || !hallazgos) return;
        //console.log("hallazgos",hallazgos);
        // Crear título del log si no existe
        const log = document.getElementById('detalle-hallazgos');
        if (log && !log.querySelector('.log-titulo')) {
            const titulo = document.createElement('h4');
            titulo.className = 'log-titulo';
            titulo.innerHTML = '🦷✨ <strong>Log de Hallazgos</strong>';
            titulo.style.marginBottom = '10px';
            titulo.style.borderBottom = '2px solid #ccc';
            titulo.style.paddingBottom = '5px';
            log.prepend(titulo);
        }

        hallazgos.forEach(h => {
            if (h.sigla === 'AOF') {
                drawAOF(h);
                registrarHallazgoDetalle('ortodoncia', `${h.nombre} AOF desde ${h.desde_diente} hasta ${h.hasta_diente}`);
            } else if (h.sigla === 'AOR') {
                drawZigZagLine(h);
                registrarHallazgoDetalle('ortodoncia', `${h.nombre} AOR desde ${h.desde_diente} hasta ${h.hasta_diente}`);
            } else if (h.tipo === 'corona' || h.sigla === 'CT') {
                drawCorona(h);
            } else if (h.tipo === 'dde') {
                drawDDE(h);
            } else if (h.tipo === 'edentulo') {
                drawEdentulo(h);
            } else if (h.tipo === 'espigo') {
                drawEspigo(h);
            } else if (h.tipo === 'ffp') {
                drawFFP(h);
            } else if (h.tipo === 'fractura') {
                drawFracturaDental(h);
            } else if (h.tipo === 'fusion') {
                drawFusion(h);
            } else if (h.tipo === 'geminacion') {
                drawGeminacion(h);
            } else if (h.tipo === 'giroversion') {
                drawGiroversion(h);
            } else if (h.tipo === 'impactacion') {
                drawImpactacion(h);
            } else if (h.tipo === 'imp') {
                drawImplanteDental(h);
            } else if (h.tipo === 'caries') {
                //console.log("a punto de dibujar caries",h);
                drawCaries(h);
            } else if (h.tipo === 'mac') {
                drawMacrodoncia(h);
            } else if (h.tipo === 'mic') {
                drawMicrodoncia(h);
            } else if (h.tipo === 'mp') {
                drawMP(h);
            } else if (h.tipo === 'ausente') {
                drawAusente(h);
            } else if (h.tipo === 'clavija') {
                drawClavija(h);
            } else if (h.tipo === 'ectopica') {
                drawEctopica(h);
            } else if (h.tipo === 'erupcion') {
                drawErupcion(h);
            } else if (h.tipo === 'extruida') {
                drawExtruida(h);
            } else if (h.tipo === 'intruida') {
                drawIntruida(h);
            } else if (h.tipo === 'supernumeraria') {
                //console.log("a punto de dibujar caries",h);
                drawSupernumeraria(h);
            } else if (h.tipo === 'pulpotomia') {
                drawPulpotomia(h);
            } else if (h.tipo === 'pos_anormal') {
                drawPosicionAnormal(h);
            } else if (h.tipo === 'protesis_parcial') {
                drawProtesisParcial(h);
            } else if (h.tipo === 'protesis_total') {
                drawProtesisTotal(h);
            } else if (h.tipo === 'protesis_removible') {
                drawProtesisRemovible(h);
            } else if (h.tipo === 'remanente') {
                drawRemanente(h);
            } else if (h.tipo === 'restauracion_definitiva') {
                drawRestauracion(h);
            } else if (h.tipo === 'restauracion_temporal') {
                drawRestauracionTemporal(h);
            } else if (h.tipo === 'sellante') {
                drawSellante(h);
            } else if (h.tipo === 'desgaste') {
                drawDesgaste(h);
            } else if (h.tipo === 'conducto') {
                drawConducto(h);
            } else if (h.tipo === 'transposicion') {
                drawTransposicion(h);
            }

            // Agrega más tipos si necesitas
        });
    }

    function registrarHallazgoDetalle(tipo, texto, observaciones = '') {
        const contenedor = document.getElementById('detalle-hallazgos');
        if (!contenedor) return;

        const item = document.createElement('div');
        item.className = 'hallazgo-item';

        const emojiSpan = document.createElement('span');
        emojiSpan.className = 'emoji';
        emojiSpan.textContent = obtenerEmojiPorTipo(tipo); // Función que asigna el emoji

        const textSpan = document.createElement('span');
        textSpan.className = 'hallazgo-text';
        textSpan.innerHTML = `${texto}${observaciones ? ` <em>(${observaciones})</em>` : ''}`;

        item.appendChild(emojiSpan);
        item.appendChild(textSpan);
        contenedor.appendChild(item);
    }

    function obtenerEmojiPorTipo(tipo) {
        const emojis = {
            eliminacion: '❌',
            ortodoncia: '🦷',
            corona: '👑',
            pieza: '⚪',
            seccion: '🔹',
            entrePiezas: '↔️',
            edentulo: '➖',
            transposicion: '🔄',
            protesis_fija: '🛠️',
            protesis_parcial: '⚙️',
            protesis_total: '🔧',
            restauracion_definitiva: '🧩',
            restauracion_temporal: '🧱',
            sellante: '🩹',
            desgaste: '💢',
            caries: '🍬',
            pulpotomia: '🧪',
            conducto: '🩸',
            fractura: '💥',
            giroversion: '🔁',
            espigo_munon: '📐',
            fusion: '🔗',
            diastema: '📏',
            erupcion: '🌱',
            intruida: '⬇️',
            extruida: '⬆️',
            hallazgo_textual: '📝'
        };
        return emojis[tipo] || '✅';
    }

    function limpiarOdontograma() {
        const svg = document.querySelector('svg');
        if (!svg) return;

        // 1. Eliminar todas las marcas SVG asociadas a hallazgos
        const clasesMarcas = [
            // Ortodoncia y estructuras entre dientes
            '.ortodoncia-marca',
            '.transposicion-marca',
            '.fusion-marca',
            '.diastema-marca',

            // Restauraciones y tratamientos
            '.caries-marca',
            '.ausente-marca',
            '.clavija-marca',
            '.erupcion-marca',
            '.pulpotomia-marca',
            '.restauracion-marca',
            '.restauracion-temporal-marca',
            '.sellante-marca',
            '.desgaste-marca',

            // Fracturas, conductos
            '.fractura-dental-marca',
            '.conducto-marca',
            '.transposicion-marca',

            // Prótesis
            '.protesis_total-marca',
            '.protesis-parcial',
            '.protesis-fija',       // si usas clase específica
            '.protesis-completa',
            '.protesis-removible',

            // Edéntulo
            '.edentulo-marca',
            '.espigo-munon-marca',

            // Giroversión, intrusión, extrusión
            '.giroversion-marca',
            '.extruida-marca',
            '.intruida-marca',
            '.supernumeraria-marca',

            // Hallazgos generales
            '.texto-hallazgo',
            '.fd-label',
            '.borde-corona'
        ];

        clasesMarcas.forEach(selector => {
            svg.querySelectorAll(selector).forEach(el => el.remove());
        });

        // 2. Limpiar textos de siglas (como AM, R, IV, etc.) en los dientes
        document.querySelectorAll('[id^="sigla-P"]').forEach(el => {
            el.textContent = '';
            el.removeAttribute("fill");
            el.removeAttribute("title");
        });

        // 3. Limpiar detalle de hallazgos en panel (si existe)
        const log = document.getElementById('detalle-hallazgos');
        if (log) log.innerHTML = '';
    }


    // Llamar a la función cuando la página esté lista
    document.addEventListener('DOMContentLoaded', function () {
        limpiarOdontograma(); // 🔹 Limpiar antes de dibujar
        renderizarHallazgosOdontograma(hallazgosRegistrados); // Asegúrate de que esta variable esté definida
    });
</script>

<style>
    .svg-responsive {
        width: 100%;
        max-width: 610px;
        aspect-ratio: 610 / 340;
        margin: 0 auto;
    }
    .corona-sigla {
        text-transform: uppercase;
        pointer-events: none;
    }
    .hallazgo-log {
        background: #f9f9f9;
        border-left: 5px solid #4a90e2;
        padding: 10px 15px;
        height: 380px;
        overflow-y: auto;
        font-family: 'Segoe UI', sans-serif;
        font-size: 14px;
        line-height: 1.6;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        scrollbar-width: thin;
        scrollbar-color: #4a90e2 #e0e0e0;
    }

    .hallazgo-log::-webkit-scrollbar {
        width: 6px;
    }

    .hallazgo-log::-webkit-scrollbar-thumb {
        background-color: #4a90e2;
        border-radius: 3px;
    }

    .hallazgo-log::-webkit-scrollbar-track {
        background-color: #e0e0e0;
    }

    .hallazgo-item {
        display: flex;
        align-items: flex-start;
        gap: 10px;
    }

    .emoji {
        flex-shrink: 0;
        width: 24px;
        text-align: center;
    }

    .hallazgo-text {
        flex: 1;
        word-wrap: break-word;
    }

    .hallazgo-item:last-child {
        border-bottom: none;
    }

    .hallazgo-item .emoji {
        font-size: 18px;
    }
    .sigla-dde {
        cursor: pointer;
        font-weight: bold;
    }

</style> 
